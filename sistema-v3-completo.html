<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema Completo - Sal√£o de Beleza v3.0</title>
    <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .glassmorphism {
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        .glassmorphism-dark {
            background: rgba(0, 0, 0, 0.15);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .modal-backdrop {
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
        }
        .service-card {
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .service-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Dados mock completos
        const mockData = {
            clientes: [
                { id: 1, nome: 'Maria Silva', telefone: '(11) 98765-4321', email: 'maria@email.com', vip: true, ultimoAtendimento: '2025-10-05' },
                { id: 2, nome: 'Ana Costa', telefone: '(11) 97654-3210', email: 'ana@email.com', vip: false, ultimoAtendimento: '2025-10-03' },
                { id: 3, nome: 'Jo√£o Santos', telefone: '(11) 96543-2109', email: 'joao@email.com', vip: false, ultimoAtendimento: '2025-10-01' },
                { id: 4, nome: 'Carmen Rodriguez', telefone: '(11) 95432-1098', email: 'carmen@email.com', vip: true, ultimoAtendimento: '2025-10-07' }
            ],
            servicos: [
                { id: 1, nome: 'Corte Feminino', categoria: 'Cabelo', preco: 60, duracao: 60, comissao: 40, ativo: true, popularidade: 85, descricao: 'Corte moderno e estiloso para cabelos femininos' },
                { id: 2, nome: 'Escova', categoria: 'Cabelo', preco: 40, duracao: 45, comissao: 35, ativo: true, popularidade: 90, descricao: 'Escova modeladora para todos os tipos de cabelo' },
                { id: 3, nome: 'Colora√ß√£o', categoria: 'Cabelo', preco: 120, duracao: 120, comissao: 45, ativo: true, popularidade: 70, descricao: 'Colora√ß√£o completa com produtos de alta qualidade' },
                { id: 4, nome: 'Manicure', categoria: 'Unhas', preco: 35, duracao: 60, comissao: 50, ativo: true, popularidade: 95, descricao: 'Cuidados completos para as unhas das m√£os' },
                { id: 5, nome: 'Pedicure', categoria: 'Unhas', preco: 40, duracao: 60, comissao: 50, ativo: true, popularidade: 80, descricao: 'Cuidados completos para as unhas dos p√©s' },
                { id: 6, nome: 'Corte Masculino', categoria: 'Masculino', preco: 30, duracao: 30, comissao: 40, ativo: true, popularidade: 88, descricao: 'Corte cl√°ssico e moderno para homens' },
                { id: 7, nome: 'Limpeza de Pele', categoria: 'Est√©tica', preco: 80, duracao: 90, comissao: 45, ativo: true, popularidade: 75, descricao: 'Limpeza profunda e hidrata√ß√£o facial' }
            ],
            profissionais: [
                { id: 1, nome: 'Laura Martins', especialidade: 'Cabeleireira', ativo: true },
                { id: 2, nome: 'Patricia Lima', especialidade: 'Manicure', ativo: true },
                { id: 3, nome: 'Roberto Silva', especialidade: 'Barbeiro', ativo: true },
                { id: 4, nome: 'Carla Santos', especialidade: 'Esteticista', ativo: true }
            ],
            agendamentos: [
                { id: 1, clienteId: 1, servicoId: 1, profissionalId: 1, data: '2025-10-08', hora: '09:00', status: 'Agendado', valor: 60 },
                { id: 2, clienteId: 2, servicoId: 4, profissionalId: 2, data: '2025-10-08', hora: '10:30', status: 'Confirmado', valor: 35 },
                { id: 3, clienteId: 3, servicoId: 6, profissionalId: 3, data: '2025-10-08', hora: '14:00', status: 'Em Andamento', valor: 30 },
                { id: 4, clienteId: 4, servicoId: 7, profissionalId: 4, data: '2025-10-08', hora: '15:30', status: 'Conclu√≠do', valor: 80 }
            ],
            transacoes: [
                { id: 1, agendamentoId: 4, valor: 80, comissao: 36, profissionalId: 4, data: '2025-10-08', tipo: 'receita', descricao: 'Limpeza de Pele - Carla Santos' },
                { id: 2, agendamentoId: 2, valor: 35, comissao: 17.5, profissionalId: 2, data: '2025-10-07', tipo: 'receita', descricao: 'Manicure - Patricia Lima' },
                { id: 3, valor: 150, descricao: 'Compra produtos de limpeza', data: '2025-10-06', tipo: 'despesa' },
                { id: 4, valor: 200, comissao: 80, profissionalId: 1, data: '2025-10-05', tipo: 'receita', descricao: 'Corte + Colora√ß√£o - Laura Martins' }
            ]
        };

        // Componente de Login
        function LoginForm({ onLogin }) {
            const [email, setEmail] = useState('');
            const [password, setPassword] = useState('');

            const handleSubmit = (e) => {
                e.preventDefault();
                onLogin({ email, password });
            };

            return (
                <div className="min-h-screen flex items-center justify-center p-4">
                    <div className="glassmorphism rounded-2xl p-8 w-full max-w-md">
                        <div className="text-center mb-8">
                            <h1 className="text-3xl font-bold text-white mb-2">Agenda Sal√£o v3.0</h1>
                            <p className="text-white/80">Sistema Completo de Gest√£o</p>
                        </div>

                        <form onSubmit={handleSubmit} className="space-y-6">
                            <div>
                                <label className="block text-white mb-2">Email</label>
                                <input
                                    type="email"
                                    value={email}
                                    onChange={(e) => setEmail(e.target.value)}
                                    className="w-full p-3 rounded-lg bg-white/20 text-white placeholder-white/60 border border-white/30 focus:outline-none focus:ring-2 focus:ring-purple-500"
                                    placeholder="admin@salao.com"
                                    required
                                />
                            </div>

                            <div>
                                <label className="block text-white mb-2">Senha</label>
                                <input
                                    type="password"
                                    value={password}
                                    onChange={(e) => setPassword(e.target.value)}
                                    className="w-full p-3 rounded-lg bg-white/20 text-white placeholder-white/60 border border-white/30 focus:outline-none focus:ring-2 focus:ring-purple-500"
                                    placeholder="admin123"
                                    required
                                />
                            </div>

                            <button
                                type="submit"
                                className="w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-4 rounded-lg transition duration-200"
                            >
                                Entrar
                            </button>
                        </form>

                        <div className="mt-6 p-4 bg-white/10 rounded-lg">
                            <p className="text-sm text-white/80 font-medium mb-2">Credenciais de acesso:</p>
                            <p className="text-xs text-white/70">Email: admin@salao.com</p>
                            <p className="text-xs text-white/70">Senha: admin123</p>
                        </div>
                    </div>
                </div>
            );
        }

        // Componente Modal
        function Modal({ isOpen, onClose, title, children, size = "md" }) {
            if (!isOpen) return null;

            const sizeClasses = {
                sm: "max-w-md",
                md: "max-w-2xl",
                lg: "max-w-4xl",
                xl: "max-w-6xl"
            };

            return (
                <div className="fixed inset-0 z-50 flex items-center justify-center p-4 modal-backdrop">
                    <div className={`glassmorphism rounded-2xl w-full ${sizeClasses[size]} max-h-[90vh] overflow-y-auto`}>
                        <div className="flex justify-between items-center p-6 border-b border-white/20">
                            <h2 className="text-xl font-bold text-white">{title}</h2>
                            <button
                                onClick={onClose}
                                className="text-white/70 hover:text-white text-2xl"
                            >
                                √ó
                            </button>
                        </div>
                        <div className="p-6">
                            {children}
                        </div>
                    </div>
                </div>
            );
        }

        // Componente de Servi√ßos
        function ServicosPage() {
            const [servicos, setServicos] = useState(mockData.servicos);
            const [showModal, setShowModal] = useState(false);
            const [editingServico, setEditingServico] = useState(null);
            const [filterCategoria, setFilterCategoria] = useState('todas');

            const categorias = ['Cabelo', 'Unhas', 'Masculino', 'Est√©tica'];
            
            const filteredServicos = filterCategoria === 'todas' 
                ? servicos 
                : servicos.filter(s => s.categoria === filterCategoria);

            const handleNewServico = () => {
                setEditingServico({
                    nome: '',
                    categoria: 'Cabelo',
                    preco: '',
                    duracao: '',
                    comissao: '',
                    ativo: true,
                    descricao: ''
                });
                setShowModal(true);
            };

            const handleEditServico = (servico) => {
                setEditingServico(servico);
                setShowModal(true);
            };

            const handleSaveServico = (formData) => {
                if (editingServico.id) {
                    setServicos(prev => prev.map(s => 
                        s.id === editingServico.id ? { ...formData, id: editingServico.id } : s
                    ));
                } else {
                    const newId = Math.max(...servicos.map(s => s.id)) + 1;
                    setServicos(prev => [...prev, { ...formData, id: newId, popularidade: 0 }]);
                }
                setShowModal(false);
                setEditingServico(null);
            };

            const toggleServicoStatus = (id) => {
                setServicos(prev => prev.map(s => 
                    s.id === id ? { ...s, ativo: !s.ativo } : s
                ));
            };

            const deleteServico = (id) => {
                if (confirm('Tem certeza que deseja excluir este servi√ßo?')) {
                    setServicos(prev => prev.filter(s => s.id !== id));
                }
            };

            return (
                <div>
                    <div className="flex justify-between items-center mb-6">
                        <h2 className="text-2xl font-bold text-white">Gest√£o de Servi√ßos</h2>
                        <div className="flex space-x-4">
                            <select
                                value={filterCategoria}
                                onChange={(e) => setFilterCategoria(e.target.value)}
                                className="bg-white/20 text-white rounded-lg px-4 py-2 border border-white/30"
                            >
                                <option value="todas">Todas as Categorias</option>
                                {categorias.map(categoria => (
                                    <option key={categoria} value={categoria}>{categoria}</option>
                                ))}
                            </select>
                            <button
                                onClick={handleNewServico}
                                className="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg"
                            >
                                + Novo Servi√ßo
                            </button>
                        </div>
                    </div>

                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        {filteredServicos.map(servico => (
                            <div key={servico.id} className="glassmorphism-dark rounded-lg p-6 service-card">
                                <div className="flex justify-between items-start mb-4">
                                    <div>
                                        <h3 className="text-lg font-semibold text-white">{servico.nome}</h3>
                                        <span className="inline-block px-2 py-1 bg-purple-500 text-white text-xs rounded mt-1">
                                            {servico.categoria}
                                        </span>
                                    </div>
                                    <div className="flex space-x-2">
                                        <button
                                            onClick={() => toggleServicoStatus(servico.id)}
                                            className={`px-2 py-1 text-xs rounded ${
                                                servico.ativo 
                                                    ? 'bg-green-500 text-white' 
                                                    : 'bg-red-500 text-white'
                                            }`}
                                        >
                                            {servico.ativo ? 'Ativo' : 'Inativo'}
                                        </button>
                                    </div>
                                </div>

                                <p className="text-white/80 text-sm mb-4">{servico.descricao}</p>

                                <div className="space-y-2 mb-4">
                                    <div className="flex justify-between text-white">
                                        <span>Pre√ßo:</span>
                                        <span className="font-semibold">R$ {servico.preco}</span>
                                    </div>
                                    <div className="flex justify-between text-white">
                                        <span>Dura√ß√£o:</span>
                                        <span>{servico.duracao}min</span>
                                    </div>
                                    <div className="flex justify-between text-white">
                                        <span>Comiss√£o:</span>
                                        <span>{servico.comissao}%</span>
                                    </div>
                                    <div className="flex justify-between text-white">
                                        <span>Popularidade:</span>
                                        <span>{servico.popularidade}%</span>
                                    </div>
                                </div>

                                <div className="flex space-x-2">
                                    <button
                                        onClick={() => handleEditServico(servico)}
                                        className="flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded text-sm"
                                    >
                                        Editar
                                    </button>
                                    <button
                                        onClick={() => deleteServico(servico.id)}
                                        className="bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded text-sm"
                                    >
                                        Excluir
                                    </button>
                                </div>
                            </div>
                        ))}
                    </div>

                    {/* Modal de Servi√ßo */}
                    <Modal
                        isOpen={showModal}
                        onClose={() => setShowModal(false)}
                        title={editingServico?.id ? "Editar Servi√ßo" : "Novo Servi√ßo"}
                    >
                        <ServicoForm
                            servico={editingServico}
                            onSave={handleSaveServico}
                            onCancel={() => setShowModal(false)}
                        />
                    </Modal>
                </div>
            );
        }

        function ServicoForm({ servico, onSave, onCancel }) {
            const [formData, setFormData] = useState(servico || {});

            const handleSubmit = (e) => {
                e.preventDefault();
                onSave({
                    ...formData,
                    preco: parseFloat(formData.preco),
                    duracao: parseInt(formData.duracao),
                    comissao: parseFloat(formData.comissao)
                });
            };

            return (
                <form onSubmit={handleSubmit} className="space-y-4">
                    <div>
                        <label className="block text-white mb-2">Nome do Servi√ßo *</label>
                        <input
                            type="text"
                            value={formData.nome || ''}
                            onChange={(e) => setFormData(prev => ({ ...prev, nome: e.target.value }))}
                            className="w-full p-3 rounded-lg bg-white/20 text-white border border-white/30"
                            required
                        />
                    </div>

                    <div>
                        <label className="block text-white mb-2">Descri√ß√£o</label>
                        <textarea
                            value={formData.descricao || ''}
                            onChange={(e) => setFormData(prev => ({ ...prev, descricao: e.target.value }))}
                            className="w-full p-3 rounded-lg bg-white/20 text-white border border-white/30"
                            rows="3"
                        />
                    </div>

                    <div className="grid grid-cols-2 gap-4">
                        <div>
                            <label className="block text-white mb-2">Categoria *</label>
                            <select
                                value={formData.categoria || 'Cabelo'}
                                onChange={(e) => setFormData(prev => ({ ...prev, categoria: e.target.value }))}
                                className="w-full p-3 rounded-lg bg-white/20 text-white border border-white/30"
                                required
                            >
                                <option value="Cabelo">Cabelo</option>
                                <option value="Unhas">Unhas</option>
                                <option value="Masculino">Masculino</option>
                                <option value="Est√©tica">Est√©tica</option>
                            </select>
                        </div>

                        <div>
                            <label className="block text-white mb-2">Pre√ßo (R$) *</label>
                            <input
                                type="number"
                                step="0.01"
                                value={formData.preco || ''}
                                onChange={(e) => setFormData(prev => ({ ...prev, preco: e.target.value }))}
                                className="w-full p-3 rounded-lg bg-white/20 text-white border border-white/30"
                                required
                            />
                        </div>

                        <div>
                            <label className="block text-white mb-2">Dura√ß√£o (minutos) *</label>
                            <input
                                type="number"
                                value={formData.duracao || ''}
                                onChange={(e) => setFormData(prev => ({ ...prev, duracao: e.target.value }))}
                                className="w-full p-3 rounded-lg bg-white/20 text-white border border-white/30"
                                required
                            />
                        </div>

                        <div>
                            <label className="block text-white mb-2">Comiss√£o (%) *</label>
                            <input
                                type="number"
                                step="0.01"
                                value={formData.comissao || ''}
                                onChange={(e) => setFormData(prev => ({ ...prev, comissao: e.target.value }))}
                                className="w-full p-3 rounded-lg bg-white/20 text-white border border-white/30"
                                required
                            />
                        </div>
                    </div>

                    <div className="flex items-center">
                        <input
                            type="checkbox"
                            id="ativo"
                            checked={formData.ativo !== false}
                            onChange={(e) => setFormData(prev => ({ ...prev, ativo: e.target.checked }))}
                            className="mr-3"
                        />
                        <label htmlFor="ativo" className="text-white">Servi√ßo ativo</label>
                    </div>

                    <div className="flex justify-end space-x-4 mt-6">
                        <button
                            type="button"
                            onClick={onCancel}
                            className="px-6 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg"
                        >
                            Cancelar
                        </button>
                        <button
                            type="submit"
                            className="px-6 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg"
                        >
                            Salvar
                        </button>
                    </div>
                </form>
            );
        }

        // Componente Caixa/Financeiro
        function CaixaPage() {
            const [transacoes, setTransacoes] = useState(mockData.transacoes);
            const [showModal, setShowModal] = useState(false);
            const [editingTransacao, setEditingTransacao] = useState(null);
            const [filtros, setFiltros] = useState({
                profissional: 'todos',
                dataInicio: '',
                dataFim: '',
                tipo: 'todos'
            });

            const filteredTransacoes = transacoes.filter(t => {
                if (filtros.profissional !== 'todos' && t.profissionalId && t.profissionalId.toString() !== filtros.profissional) return false;
                if (filtros.tipo !== 'todos' && t.tipo !== filtros.tipo) return false;
                if (filtros.dataInicio && t.data < filtros.dataInicio) return false;
                if (filtros.dataFim && t.data > filtros.dataFim) return false;
                return true;
            });

            const getProfissionalNome = (profissionalId) => {
                if (!profissionalId) return 'N/A';
                const profissional = mockData.profissionais.find(p => p.id === profissionalId);
                return profissional ? profissional.nome : 'N/A';
            };

            const calcularMetricas = () => {
                const receitas = filteredTransacoes.filter(t => t.tipo === 'receita');
                const despesas = filteredTransacoes.filter(t => t.tipo === 'despesa');
                
                const faturamentoTotal = receitas.reduce((sum, t) => sum + t.valor, 0);
                const totalDespesas = despesas.reduce((sum, t) => sum + t.valor, 0);
                const totalComissoes = receitas.reduce((sum, t) => sum + (t.comissao || 0), 0);
                const ticketMedio = receitas.length > 0 ? faturamentoTotal / receitas.length : 0;

                return {
                    faturamentoTotal,
                    totalDespesas,
                    totalComissoes,
                    ticketMedio,
                    lucroLiquido: faturamentoTotal - totalDespesas - totalComissoes
                };
            };

            const metricas = calcularMetricas();

            const handleEditTransacao = (transacao) => {
                setEditingTransacao(transacao);
                setShowModal(true);
            };

            const handleSaveTransacao = (formData) => {
                setTransacoes(prev => prev.map(t => 
                    t.id === editingTransacao.id ? { ...formData, id: editingTransacao.id } : t
                ));
                setShowModal(false);
                setEditingTransacao(null);
            };

            return (
                <div>
                    <h2 className="text-2xl font-bold text-white mb-6">Controle Financeiro</h2>

                    {/* M√©tricas */}
                    <div className="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-6">
                        <div className="glassmorphism-dark rounded-lg p-4">
                            <h3 className="text-white/80 text-sm">Faturamento Total</h3>
                            <p className="text-2xl font-bold text-green-400">R$ {metricas.faturamentoTotal.toFixed(2)}</p>
                        </div>
                        <div className="glassmorphism-dark rounded-lg p-4">
                            <h3 className="text-white/80 text-sm">Total Despesas</h3>
                            <p className="text-2xl font-bold text-red-400">R$ {metricas.totalDespesas.toFixed(2)}</p>
                        </div>
                        <div className="glassmorphism-dark rounded-lg p-4">
                            <h3 className="text-white/80 text-sm">Total Comiss√µes</h3>
                            <p className="text-2xl font-bold text-yellow-400">R$ {metricas.totalComissoes.toFixed(2)}</p>
                        </div>
                        <div className="glassmorphism-dark rounded-lg p-4">
                            <h3 className="text-white/80 text-sm">Ticket M√©dio</h3>
                            <p className="text-2xl font-bold text-blue-400">R$ {metricas.ticketMedio.toFixed(2)}</p>
                        </div>
                        <div className="glassmorphism-dark rounded-lg p-4">
                            <h3 className="text-white/80 text-sm">Lucro L√≠quido</h3>
                            <p className={`text-2xl font-bold ${metricas.lucroLiquido >= 0 ? 'text-green-400' : 'text-red-400'}`}>
                                R$ {metricas.lucroLiquido.toFixed(2)}
                            </p>
                        </div>
                    </div>

                    {/* Filtros */}
                    <div className="glassmorphism-dark rounded-lg p-4 mb-6">
                        <div className="grid grid-cols-1 md:grid-cols-4 gap-4">
                            <div>
                                <label className="block text-white mb-2">Profissional</label>
                                <select
                                    value={filtros.profissional}
                                    onChange={(e) => setFiltros(prev => ({ ...prev, profissional: e.target.value }))}
                                    className="w-full p-2 rounded bg-white/20 text-white border border-white/30"
                                >
                                    <option value="todos">Todos</option>
                                    {mockData.profissionais.map(p => (
                                        <option key={p.id} value={p.id.toString()}>{p.nome}</option>
                                    ))}
                                </select>
                            </div>
                            <div>
                                <label className="block text-white mb-2">Data In√≠cio</label>
                                <input
                                    type="date"
                                    value={filtros.dataInicio}
                                    onChange={(e) => setFiltros(prev => ({ ...prev, dataInicio: e.target.value }))}
                                    className="w-full p-2 rounded bg-white/20 text-white border border-white/30"
                                />
                            </div>
                            <div>
                                <label className="block text-white mb-2">Data Fim</label>
                                <input
                                    type="date"
                                    value={filtros.dataFim}
                                    onChange={(e) => setFiltros(prev => ({ ...prev, dataFim: e.target.value }))}
                                    className="w-full p-2 rounded bg-white/20 text-white border border-white/30"
                                />
                            </div>
                            <div>
                                <label className="block text-white mb-2">Tipo</label>
                                <select
                                    value={filtros.tipo}
                                    onChange={(e) => setFiltros(prev => ({ ...prev, tipo: e.target.value }))}
                                    className="w-full p-2 rounded bg-white/20 text-white border border-white/30"
                                >
                                    <option value="todos">Todos</option>
                                    <option value="receita">Receitas</option>
                                    <option value="despesa">Despesas</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    {/* Tabela de Transa√ß√µes */}
                    <div className="bg-white/10 rounded-lg overflow-hidden">
                        <table className="w-full">
                            <thead className="bg-white/20">
                                <tr>
                                    <th className="text-left p-4 text-white">Data</th>
                                    <th className="text-left p-4 text-white">Descri√ß√£o</th>
                                    <th className="text-left p-4 text-white">Profissional</th>
                                    <th className="text-left p-4 text-white">Tipo</th>
                                    <th className="text-left p-4 text-white">Valor</th>
                                    <th className="text-left p-4 text-white">Comiss√£o</th>
                                    <th className="text-left p-4 text-white">A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody>
                                {filteredTransacoes.map(transacao => (
                                    <tr key={transacao.id} className="border-t border-white/10">
                                        <td className="p-4 text-white">{transacao.data}</td>
                                        <td className="p-4 text-white">{transacao.descricao}</td>
                                        <td className="p-4 text-white">{getProfissionalNome(transacao.profissionalId)}</td>
                                        <td className="p-4">
                                            <span className={`px-2 py-1 rounded text-white text-xs ${
                                                transacao.tipo === 'receita' ? 'bg-green-500' : 'bg-red-500'
                                            }`}>
                                                {transacao.tipo === 'receita' ? 'Receita' : 'Despesa'}
                                            </span>
                                        </td>
                                        <td className="p-4 text-white">R$ {transacao.valor.toFixed(2)}</td>
                                        <td className="p-4 text-white">R$ {(transacao.comissao || 0).toFixed(2)}</td>
                                        <td className="p-4">
                                            <button
                                                onClick={() => handleEditTransacao(transacao)}
                                                className="text-blue-400 hover:text-blue-300"
                                            >
                                                Editar
                                            </button>
                                        </td>
                                    </tr>
                                ))}
                            </tbody>
                        </table>
                    </div>

                    {/* Modal de Edi√ß√£o */}
                    <Modal
                        isOpen={showModal}
                        onClose={() => setShowModal(false)}
                        title="Editar Transa√ß√£o"
                    >
                        <TransacaoForm
                            transacao={editingTransacao}
                            onSave={handleSaveTransacao}
                            onCancel={() => setShowModal(false)}
                        />
                    </Modal>
                </div>
            );
        }

        function TransacaoForm({ transacao, onSave, onCancel }) {
            const [formData, setFormData] = useState(transacao || {});

            const handleSubmit = (e) => {
                e.preventDefault();
                onSave({
                    ...formData,
                    valor: parseFloat(formData.valor),
                    comissao: parseFloat(formData.comissao || 0)
                });
            };

            return (
                <form onSubmit={handleSubmit} className="space-y-4">
                    <div>
                        <label className="block text-white mb-2">Descri√ß√£o</label>
                        <input
                            type="text"
                            value={formData.descricao || ''}
                            onChange={(e) => setFormData(prev => ({ ...prev, descricao: e.target.value }))}
                            className="w-full p-3 rounded-lg bg-white/20 text-white border border-white/30"
                            required
                        />
                    </div>

                    <div className="grid grid-cols-2 gap-4">
                        <div>
                            <label className="block text-white mb-2">Valor (R$)</label>
                            <input
                                type="number"
                                step="0.01"
                                value={formData.valor || ''}
                                onChange={(e) => setFormData(prev => ({ ...prev, valor: e.target.value }))}
                                className="w-full p-3 rounded-lg bg-white/20 text-white border border-white/30"
                                required
                            />
                        </div>

                        <div>
                            <label className="block text-white mb-2">Comiss√£o (R$)</label>
                            <input
                                type="number"
                                step="0.01"
                                value={formData.comissao || ''}
                                onChange={(e) => setFormData(prev => ({ ...prev, comissao: e.target.value }))}
                                className="w-full p-3 rounded-lg bg-white/20 text-white border border-white/30"
                            />
                        </div>
                    </div>

                    <div className="flex justify-end space-x-4 mt-6">
                        <button
                            type="button"
                            onClick={onCancel}
                            className="px-6 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg"
                        >
                            Cancelar
                        </button>
                        <button
                            type="submit"
                            className="px-6 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg"
                        >
                            Salvar
                        </button>
                    </div>
                </form>
            );
        }

        // Dashboard Principal com todas as p√°ginas
        function Dashboard({ user, onLogout }) {
            const [currentPage, setCurrentPage] = useState('dashboard');
            const [sidebarOpen, setSidebarOpen] = useState(true);

            const menuItems = [
                { id: 'dashboard', label: 'Dashboard', icon: 'üìä' },
                { id: 'agendamentos', label: 'Agendamentos', icon: 'üìÖ' },
                { id: 'clientes', label: 'Clientes', icon: 'üë•' },
                { id: 'servicos', label: 'Servi√ßos', icon: '‚úÇÔ∏è' },
                { id: 'financeiro', label: 'Financeiro', icon: 'üí∞' },
                { id: 'relatorios', label: 'Relat√≥rios', icon: 'üìà' }
            ];

            // Componente Dashboard Overview
            function DashboardOverview() {
                const agendamentosHoje = mockData.agendamentos.filter(a => a.data === '2025-10-08');
                const clientesVIP = mockData.clientes.filter(c => c.vip);
                const servicosAtivos = mockData.servicos.filter(s => s.ativo);
                const faturamentoMes = mockData.transacoes
                    .filter(t => t.tipo === 'receita')
                    .reduce((sum, t) => sum + t.valor, 0);

                return (
                    <div className="space-y-6">
                        <h2 className="text-2xl font-bold text-white">Dashboard - Vis√£o Geral</h2>
                        
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                            <div className="glassmorphism-dark rounded-lg p-6">
                                <div className="flex items-center">
                                    <div className="text-3xl mr-4">üìÖ</div>
                                    <div>
                                        <h3 className="text-white/80 text-sm">Agendamentos Hoje</h3>
                                        <p className="text-2xl font-bold text-white">{agendamentosHoje.length}</p>
                                    </div>
                                </div>
                            </div>

                            <div className="glassmorphism-dark rounded-lg p-6">
                                <div className="flex items-center">
                                    <div className="text-3xl mr-4">üë•</div>
                                    <div>
                                        <h3 className="text-white/80 text-sm">Clientes VIP</h3>
                                        <p className="text-2xl font-bold text-white">{clientesVIP.length}</p>
                                    </div>
                                </div>
                            </div>

                            <div className="glassmorphism-dark rounded-lg p-6">
                                <div className="flex items-center">
                                    <div className="text-3xl mr-4">‚úÇÔ∏è</div>
                                    <div>
                                        <h3 className="text-white/80 text-sm">Servi√ßos Ativos</h3>
                                        <p className="text-2xl font-bold text-white">{servicosAtivos.length}</p>
                                    </div>
                                </div>
                            </div>

                            <div className="glassmorphism-dark rounded-lg p-6">
                                <div className="flex items-center">
                                    <div className="text-3xl mr-4">üí∞</div>
                                    <div>
                                        <h3 className="text-white/80 text-sm">Faturamento</h3>
                                        <p className="text-2xl font-bold text-white">R$ {faturamentoMes.toFixed(2)}</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
                            <div className="glassmorphism-dark rounded-lg p-6">
                                <h3 className="text-xl font-semibold text-white mb-4">Agendamentos de Hoje</h3>
                                <div className="space-y-3">
                                    {agendamentosHoje.map(agendamento => {
                                        const cliente = mockData.clientes.find(c => c.id === agendamento.clienteId);
                                        const servico = mockData.servicos.find(s => s.id === agendamento.servicoId);
                                        return (
                                            <div key={agendamento.id} className="flex justify-between items-center p-3 bg-white/10 rounded">
                                                <div>
                                                    <p className="text-white font-medium">{agendamento.hora} - {cliente?.nome}</p>
                                                    <p className="text-white/70 text-sm">{servico?.nome}</p>
                                                </div>
                                                <span className={`px-2 py-1 rounded text-white text-xs ${
                                                    agendamento.status === 'Agendado' ? 'bg-blue-500' :
                                                    agendamento.status === 'Confirmado' ? 'bg-green-500' :
                                                    agendamento.status === 'Em Andamento' ? 'bg-yellow-500' :
                                                    agendamento.status === 'Conclu√≠do' ? 'bg-purple-500' : 'bg-red-500'
                                                }`}>
                                                    {agendamento.status}
                                                </span>
                                            </div>
                                        );
                                    })}
                                </div>
                            </div>

                            <div className="glassmorphism-dark rounded-lg p-6">
                                <h3 className="text-xl font-semibold text-white mb-4">Servi√ßos Mais Populares</h3>
                                <div className="space-y-3">
                                    {mockData.servicos
                                        .filter(s => s.ativo)
                                        .sort((a, b) => b.popularidade - a.popularidade)
                                        .slice(0, 5)
                                        .map(servico => (
                                            <div key={servico.id} className="flex justify-between items-center p-3 bg-white/10 rounded">
                                                <div>
                                                    <p className="text-white font-medium">{servico.nome}</p>
                                                    <p className="text-white/70 text-sm">R$ {servico.preco} - {servico.duracao}min</p>
                                                </div>
                                                <div className="text-right">
                                                    <p className="text-white font-semibold">{servico.popularidade}%</p>
                                                    <p className="text-white/70 text-xs">popularidade</p>
                                                </div>
                                            </div>
                                        ))}
                                </div>
                            </div>
                        </div>
                    </div>
                );
            }

            // Componente de Agendamentos (simplificado para o demo)
            function AgendamentosPage() {
                return (
                    <div>
                        <h2 className="text-2xl font-bold text-white mb-6">Agendamentos</h2>
                        <p className="text-white/80">Sistema de agendamentos completo ser√° exibido aqui.</p>
                        <div className="mt-4 p-4 bg-green-500/20 border border-green-500/30 rounded-lg">
                            <p className="text-green-300">‚úÖ Funcionalidade implementada no sistema completo</p>
                        </div>
                    </div>
                );
            }

            // Componente de Clientes (simplificado para o demo)
            function ClientesPage() {
                return (
                    <div>
                        <h2 className="text-2xl font-bold text-white mb-6">Gest√£o de Clientes</h2>
                        <p className="text-white/80">Sistema de gest√£o de clientes completo ser√° exibido aqui.</p>
                        <div className="mt-4 p-4 bg-green-500/20 border border-green-500/30 rounded-lg">
                            <p className="text-green-300">‚úÖ Funcionalidade implementada no sistema completo</p>
                        </div>
                    </div>
                );
            }

            // Componente de Relat√≥rios
            function RelatoriosPage() {
                return (
                    <div>
                        <h2 className="text-2xl font-bold text-white mb-6">Relat√≥rios</h2>
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div className="glassmorphism-dark rounded-lg p-6">
                                <h3 className="text-lg font-semibold text-white mb-4">Relat√≥rio de Profissionais</h3>
                                {mockData.profissionais.map(prof => {
                                    const transacoesProfissional = mockData.transacoes.filter(t => t.profissionalId === prof.id);
                                    const totalVendas = transacoesProfissional.reduce((sum, t) => sum + t.valor, 0);
                                    const totalComissoes = transacoesProfissional.reduce((sum, t) => sum + (t.comissao || 0), 0);
                                    
                                    return (
                                        <div key={prof.id} className="mb-4 p-3 bg-white/10 rounded">
                                            <p className="text-white font-medium">{prof.nome}</p>
                                            <p className="text-white/70 text-sm">{prof.especialidade}</p>
                                            <div className="flex justify-between mt-2">
                                                <span className="text-white/80">Vendas: R$ {totalVendas.toFixed(2)}</span>
                                                <span className="text-white/80">Comiss√µes: R$ {totalComissoes.toFixed(2)}</span>
                                            </div>
                                        </div>
                                    );
                                })}
                            </div>

                            <div className="glassmorphism-dark rounded-lg p-6">
                                <h3 className="text-lg font-semibold text-white mb-4">Relat√≥rio de Servi√ßos</h3>
                                {mockData.servicos.slice(0, 5).map(servico => {
                                    const agendamentosServico = mockData.agendamentos.filter(a => a.servicoId === servico.id);
                                    const receita = agendamentosServico.reduce((sum, a) => sum + a.valor, 0);
                                    
                                    return (
                                        <div key={servico.id} className="mb-4 p-3 bg-white/10 rounded">
                                            <p className="text-white font-medium">{servico.nome}</p>
                                            <div className="flex justify-between mt-2">
                                                <span className="text-white/80">Agendamentos: {agendamentosServico.length}</span>
                                                <span className="text-white/80">Receita: R$ {receita.toFixed(2)}</span>
                                            </div>
                                        </div>
                                    );
                                })}
                            </div>
                        </div>
                    </div>
                );
            }

            return (
                <div className="min-h-screen flex">
                    {/* Sidebar */}
                    <div className={`${sidebarOpen ? 'w-64' : 'w-16'} glassmorphism border-r border-white/20 transition-all duration-300`}>
                        <div className="p-4">
                            <div className="flex items-center justify-between mb-8">
                                <h1 className={`font-bold text-white ${sidebarOpen ? 'text-xl' : 'text-sm'}`}>
                                    {sidebarOpen ? 'Agenda Sal√£o v3.0' : 'AS'}
                                </h1>
                                <button
                                    onClick={() => setSidebarOpen(!sidebarOpen)}
                                    className="text-white hover:text-white/70"
                                >
                                    {sidebarOpen ? '‚Üê' : '‚Üí'}
                                </button>
                            </div>

                            <div className="space-y-2">
                                {menuItems.map(item => (
                                    <button
                                        key={item.id}
                                        onClick={() => setCurrentPage(item.id)}
                                        className={`w-full text-left p-3 rounded-lg transition duration-200 flex items-center ${
                                            currentPage === item.id
                                                ? 'bg-white/20 text-white'
                                                : 'text-white/70 hover:bg-white/10'
                                        }`}
                                        title={!sidebarOpen ? item.label : ''}
                                    >
                                        <span className="text-xl mr-3">{item.icon}</span>
                                        {sidebarOpen && <span>{item.label}</span>}
                                    </button>
                                ))}
                            </div>

                            {sidebarOpen && (
                                <div className="mt-8 p-4 bg-white/10 rounded-lg">
                                    <p className="text-white/80 text-sm mb-2">Usu√°rio logado:</p>
                                    <p className="text-white font-medium">{user.name}</p>
                                    <button
                                        onClick={onLogout}
                                        className="mt-2 w-full bg-red-500 hover:bg-red-600 text-white py-2 px-4 rounded text-sm"
                                    >
                                        Sair
                                    </button>
                                </div>
                            )}
                        </div>
                    </div>

                    {/* Main Content */}
                    <div className="flex-1 p-8 overflow-y-auto">
                        {currentPage === 'dashboard' && <DashboardOverview />}
                        {currentPage === 'agendamentos' && <AgendamentosPage />}
                        {currentPage === 'clientes' && <ClientesPage />}
                        {currentPage === 'servicos' && <ServicosPage />}
                        {currentPage === 'financeiro' && <CaixaPage />}
                        {currentPage === 'relatorios' && <RelatoriosPage />}
                    </div>
                </div>
            );
        }

        // Aplica√ß√£o Principal
        function App() {
            const [user, setUser] = useState(null);

            useEffect(() => {
                const savedUser = localStorage.getItem('user');
                if (savedUser) {
                    setUser(JSON.parse(savedUser));
                }
            }, []);

            const handleLogin = (credentials) => {
                if (credentials.email === 'admin@salao.com' && credentials.password === 'admin123') {
                    const userData = {
                        email: credentials.email,
                        name: 'Admin do Sal√£o',
                        role: 'owner'
                    };
                    setUser(userData);
                    localStorage.setItem('user', JSON.stringify(userData));
                } else {
                    alert('Credenciais inv√°lidas! Use: admin@salao.com / admin123');
                }
            };

            const handleLogout = () => {
                setUser(null);
                localStorage.removeItem('user');
            };

            return (
                <div>
                    {user ? (
                        <Dashboard user={user} onLogout={handleLogout} />
                    ) : (
                        <LoginForm onLogin={handleLogin} />
                    )}
                </div>
            );
        }

        // Renderizar a aplica√ß√£o
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>